{"version":3,"sources":["webpack:///src/components/ConsoleFrame.vue","webpack:///./src/components/ConsoleFrame.vue?7216","webpack:///./src/components/ConsoleFrame.vue","webpack:///./src/assets/img/icons/wifi.svg","webpack:///./src/assets/img/icons/wifi_lock.svg","webpack:///./src/components lazy ^\\.\\/.*$","webpack:///src/components/TaskBar.vue","webpack:///./src/components/TaskBar.vue?a2c6","webpack:///./src/components/TaskBar.vue","webpack:///src/components/SoftwareUpgrade.vue","webpack:///./src/components/SoftwareUpgrade.vue?b324","webpack:///./src/components/SoftwareUpgrade.vue","webpack:///./src/api/ubus.js","webpack:///./src/api/analytics.js","webpack:///./src/store/index.js","webpack:///src/App.vue","webpack:///./src/App.vue?8b51","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///src/components/SetupView.vue","webpack:///./src/components/SetupView.vue?8345","webpack:///./src/components/SetupView.vue","webpack:///src/components/About.vue","webpack:///./src/components/About.vue?a995","webpack:///./src/components/About.vue","webpack:///src/components/LoginForm.vue","webpack:///./src/components/LoginForm.vue?9ff3","webpack:///./src/components/LoginForm.vue","webpack:///src/components/Toast.vue","webpack:///./src/components/Toast.vue?9d70","webpack:///./src/components/Toast.vue","webpack:///src/components/AppView.vue","webpack:///./src/components/AppView.vue?aed7","webpack:///./src/components/AppView.vue","webpack:///src/components/LoginView.vue","webpack:///./src/components/LoginView.vue?b811","webpack:///./src/components/LoginView.vue","webpack:///src/components/IframeApp.vue","webpack:///./src/components/IframeApp.vue?7c17","webpack:///./src/components/IframeApp.vue","webpack:///src/components/WifiClientConfig.vue","webpack:///./src/components/WifiClientConfig.vue?7dfb","webpack:///./src/components/WifiClientConfig.vue"],"names":["data","TaskBar","AppView","LoginView","SetupView","Toast","About","this","checkInternet","components_ConsoleFrame","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","solid-bg","$store","getters","activeApp","on","about","$event","aboutActive","_v","active","close","src","staticRenderFns","Component","__webpack_require__","normalizeComponent","ConsoleFrame","ssrContext","__webpack_exports__","module","exports","map","./About","./About.vue","./AppLauncher","./AppLauncher.vue","./AppManagerApp","./AppManagerApp.vue","./AppView","./AppView.vue","./ConsoleFrame","./ConsoleFrame.vue","./ExternalApp","./ExternalApp.vue","./IframeApp","./IframeApp.vue","./LoginForm","./LoginForm.vue","./LoginView","./LoginView.vue","./PreferencesApp","./PreferencesApp.vue","./SetupView","./SetupView.vue","./SoftwareUpgrade","./SoftwareUpgrade.vue","./TaskBar","./TaskBar.vue","./Toast","./Toast.vue","./WifiClientConfig","./WifiClientConfig.vue","webpackAsyncContext","req","ids","Promise","all","slice","e","then","reject","Error","keys","Object","appId","components_TaskBar","class","solidBg","click","onHome","alt","_l","app","key","data-tooltip","name","openApp","mouseover","hoverApp","mouseout","icon","directives","rawName","value","expression","closeApp","isOnline","_e","logout","SoftwareUpgrade","build","max","state","maxVal","_this","downloadFirmware","installFirmware","_this2","url","resp","pid","updateProgressbar","resolve","size","_this3","local","_this4","progressValue","install","_this5","components_SoftwareUpgrade","view","domProps","innerHTML","_s","msg","img","style","width","progressPercent","isLoading","currentFirmware","latestFirmware","upgrade","labelText","length","axios_default","a","defaults","headers","post","ubus","token","pkg","fn","params","promise_default","jsonrpc","method","response","result","Array","isArray","console","log","error","catch","AccessDenied","analytics","t","n","amplitude","_q","_iq","r","createElement","type","async","onload","runQueuedFunctions","i","getElementsByTagName","s","prototype","push","concat","call","arguments","parentNode","insertBefore","o","u","Identify","c","l","p","Revenue","d","v","getInstance","toLowerCase","hasOwnProperty","window","document","init","eventName","eventProperties","logEvent","vue_esm","use","vuex_esm","makeId","Math","random","toString","substring","NODE_ENV","DEV_HOST","hostName","location","hostname","defaultToken","src_store","Store","system","online","initialSetup","device","rpc","username","password","sessionStorage","getItem","heartbeatHandel","mqtt","subscription","apps","running","available","launcher","background","appsDefault","doc-app","internet","terminal-app","app-manager-app","mutations","registerUser","_ref","registerSession","setItem","removeItem","registerAppHandler","callback","launchApp","appExist","component","splice","updateInternetStatus","mqttSubscribe","_ref2","appUid","topic","deviceInfo","updateAppList","defaultApps","JSON","parse","stringify_default","set","undefined","replace","actions","checkInitialSetup","_ref3","commit","dispatch","get","setInitialSetup","_ref4","_ref5","object","config","section","values","setup","login","_ref6","_ref7","ubus_rpc_session","_ref8","getDeviceInfo","_ref9","isAuthenticated","p1","p2","p3","ra0","apcli0","eth0","version","request","_ref10","_ref11","code","_ref12","_ref13","_ref14","_ref15","notifyApp","_ref16","_ref17","eventId","event","Event","content","dispatchEvent","_ref18","browser_default","initCDK","_ref19","addEventListener","instance","indexOf","command","service","cmd","stdout","toast","message","handleService","_ref20","serviceStatus","_ref21","readFile","_ref22","_ref23","path","handleCommand","_ref24","_ref25","handleScript","_ref26","_ref27","scriptPath","proc","finally","waitProcess","_ref28","_ref29","pidWatcher","setInterval","clearInterval","_ref30","_ref31","mqttMessage","_ref32","_ref33","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","next","done","err","return","refreshAppList","_ref34","startHeartbeat","_ref35","logInit","isInitialSetup","sessionToken","requestUrl","runningApps","availableApps","App","selectortype_template_index_0_src_App","src_App","productionTip","build_default","vue_analytics_default","el","store","components","template","LoginForm","WifiClientConfig","components_SetupView","_m","step","idx","steps","getProgressColor","z-index","color","title","currentStep","heading","body","tag","success","components_About","kernel","model","components_LoginForm","keyup","_k","keyCode","for","input","target","composing","Number","makeToast","selectedIndex","intervalHandel","components_Toast","index","IframeApp","components_AppView","components_LoginView","AppUid","components_IframeApp","ref","height","frameBorder","load","onLoad","Boolean","ret","bModalCloseAllowed","bLoading","bModalActive","closeWifiModal","ssid","modalText","openWifiModal","modalTitle","encryption","results","radio","encryptionType","bValid","internetConnectivityCheck","connectionCheckInterval","connectionCheckTimeout","completeWifiConfig","readNetworkList","networks","scanForWifi","toggleLoading","components_WifiClientConfig","viewConfiguredNetworks","wifi","configured","network","enabled","selectedNetwork","wifiModalActive","href","aria-label","bModalForm","inputNetwork","passwordFormClass","placeholder","joinNetwork","$set","passwordFormHintText","modalButtons","setView","joinButtonDisabled","skipWifiConfig"],"mappings":"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","file":"static/js/app.918db7b2ccce4b2b0787.js","sourcesContent":["<template>\n\n  <div class=\"consoleframe\">\n\n    <!-- <div class=\"taskbarframe\"> -->\n    <TaskBar id=\"taskbar\"\n      :solid-bg=\"$store.getters.activeApp !== 'launcher'\"\n      @about=\"aboutActive = true\"\n    />\n\n    <!-- App View -->\n    <AppView/>\n\n    <!-- Global Display Elements -->\n    <LoginView/>\n    <SetupView/>\n    <Toast/>\n    <About :active=\"aboutActive\"\n      @close=\"aboutActive = false\"\n    />\n\n    <!-- GA tracking code on remote server -->\n    <iframe id=\"gaFrame\" src=\"http://s3-us-west-2.amazonaws.com/onion-cdn/os/GA/index.html\"></iframe>\n\n  </div>\n</template>\n<script>\n\nimport TaskBar from '@/components/TaskBar'\nimport AppView from '@/components/AppView'\nimport LoginView from '@/components/LoginView'\nimport SetupView from '@/components/SetupView'\nimport Toast from '@/components/Toast'\nimport About from '@/components/About'\n\nexport default {\n  mqtt: {\n    '#': function (data, topic) {\n      console.log(`topic: ${topic}, msg: ${data}`)\n      // console.log(data)\n      this.$store.dispatch('mqttMessage', {topic: topic, data: data})\n    }\n  },\n  name: 'ConsoleFrame',\n  data () {\n    return {\n      aboutActive: false\n    }\n  },\n  components: {\n    TaskBar,\n    AppView,\n    LoginView,\n    SetupView,\n    Toast,\n    About\n  },\n  created () {\n    // mqtt subscription\n    // this.$mqtt.subscribe('/console/')\n    this.$mqtt.subscribe('/console/+')\n\n    // Check internet status\n    var checkInternet = function (e) {\n      if (e && e.type === 'offline') {\n        this.$store.commit('updateInternetStatus', false)\n      } else {\n        this.$store.dispatch('checkInternet')\n        // TODO: use notification instead of tooltip\n      }\n    }.bind(this)\n    checkInternet()\n    // Re-Check when network status change\n    window.addEventListener('online', checkInternet)\n    window.addEventListener('offline', checkInternet)\n\n    // Login\n    // console.log('Authenticated: ' + this.$store.getters.isAuthenticated)\n    // if (!this.$store.getters.isAuthenticated) {\n    //   this.$store.dispatch('login', {\n    //     username: 'root',\n    //     password: 'onioneer'\n    //   })\n    //     .then(resp => {\n    //       console.log('login success!' + this.$store.getters.isAuthenticated)\n    //       this.$store.dispatch('request', {\n    //         object: 'onion',\n    //         method: 'wifi-scan',\n    //         params: {\n    //           device: 'ra0'\n    //         }\n    //       })\n    //         .then(resp => {\n    //           console.log(resp)\n    //         })\n    //     })\n    //     .catch(resp => {\n    //       console.log('login failed:' + resp)\n    //     })\n    // }\n\n    this.$store.dispatch('launchApp', {appId: 'launcher'})\n    this.$store.dispatch('getDeviceInfo')\n    this.$store.dispatch('initCDK')\n    this.$store.dispatch('refreshAppList')\n  }\n}\n</script>\n\n<style scoped>\n.consoleframe {\n  display: flex;\n  flex-wrap: wrap;\n  height: 100%;\n  background-image: url(\"~@/assets/img/bg.jpg\");\n  background-size: cover;\n}\n\n#gaFrame {\n  width: 0;\n  height: 0;\n  border: 0;\n  position: absolute;\n  top: 0;\n  right: 0;\n}\n\n@media screen and (max-width: 768px) {\n    .consoleframe {\n        flex-direction: column;\n    }\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ConsoleFrame.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"consoleframe\"},[_c('TaskBar',{attrs:{\"id\":\"taskbar\",\"solid-bg\":_vm.$store.getters.activeApp !== 'launcher'},on:{\"about\":function($event){_vm.aboutActive = true}}}),_vm._v(\" \"),_c('AppView'),_vm._v(\" \"),_c('LoginView'),_vm._v(\" \"),_c('SetupView'),_vm._v(\" \"),_c('Toast'),_vm._v(\" \"),_c('About',{attrs:{\"active\":_vm.aboutActive},on:{\"close\":function($event){_vm.aboutActive = false}}}),_vm._v(\" \"),_c('iframe',{attrs:{\"id\":\"gaFrame\",\"src\":\"http://s3-us-west-2.amazonaws.com/onion-cdn/os/GA/index.html\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4faf7641\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ConsoleFrame.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4faf7641\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ConsoleFrame.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ConsoleFrame.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ConsoleFrame.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4faf7641\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ConsoleFrame.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4faf7641\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ConsoleFrame.vue\n// module id = null\n// module chunks = ","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTIuMDEgMjEuNDlMMjMuNjQgN2MtLjQ1LS4zNC00LjkzLTQtMTEuNjQtNEM1LjI4IDMgLjgxIDYuNjYuMzYgN2wxMS42MyAxNC40OS4wMS4wMS4wMS0uMDF6Ii8+PHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/icons/wifi.svg\n// module id = 7JcZ\n// module chunks = 5","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTIwLjUgOS41Yy4yOCAwIC41NS4wNC44MS4wOEwyNCA2Yy0zLjM0LTIuNTEtNy41LTQtMTItNFMzLjM0IDMuNDkgMCA2bDEyIDE2IDMuNS00LjY3VjE0LjVjMC0yLjc2IDIuMjQtNSA1LTV6TTIzIDE2di0xLjVjMC0xLjM4LTEuMTItMi41LTIuNS0yLjVTMTggMTMuMTIgMTggMTQuNVYxNmMtLjU1IDAtMSAuNDUtMSAxdjRjMCAuNTUuNDUgMSAxIDFoNWMuNTUgMCAxLS40NSAxLTF2LTRjMC0uNTUtLjQ1LTEtMS0xem0tMSAwaC0zdi0xLjVjMC0uODMuNjctMS41IDEuNS0xLjVzMS41LjY3IDEuNSAxLjVWMTZ6Ii8+PC9zdmc+\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/icons/wifi_lock.svg\n// module id = B4+s\n// module chunks = 5","var map = {\n\t\"./About\": [\n\t\t\"c27y\"\n\t],\n\t\"./About.vue\": [\n\t\t\"c27y\"\n\t],\n\t\"./AppLauncher\": [\n\t\t\"LyiH\",\n\t\t2\n\t],\n\t\"./AppLauncher.vue\": [\n\t\t\"LyiH\",\n\t\t2\n\t],\n\t\"./AppManagerApp\": [\n\t\t\"pNZA\",\n\t\t0\n\t],\n\t\"./AppManagerApp.vue\": [\n\t\t\"pNZA\",\n\t\t0\n\t],\n\t\"./AppView\": [\n\t\t\"po9y\"\n\t],\n\t\"./AppView.vue\": [\n\t\t\"po9y\"\n\t],\n\t\"./ConsoleFrame\": [\n\t\t\"0Zpu\"\n\t],\n\t\"./ConsoleFrame.vue\": [\n\t\t\"0Zpu\"\n\t],\n\t\"./ExternalApp\": [\n\t\t\"//Yz\",\n\t\t1\n\t],\n\t\"./ExternalApp.vue\": [\n\t\t\"//Yz\",\n\t\t1\n\t],\n\t\"./IframeApp\": [\n\t\t\"xSqd\"\n\t],\n\t\"./IframeApp.vue\": [\n\t\t\"xSqd\"\n\t],\n\t\"./LoginForm\": [\n\t\t\"gosb\"\n\t],\n\t\"./LoginForm.vue\": [\n\t\t\"gosb\"\n\t],\n\t\"./LoginView\": [\n\t\t\"uscc\"\n\t],\n\t\"./LoginView.vue\": [\n\t\t\"uscc\"\n\t],\n\t\"./PreferencesApp\": [\n\t\t\"9P2q\",\n\t\t3\n\t],\n\t\"./PreferencesApp.vue\": [\n\t\t\"9P2q\",\n\t\t3\n\t],\n\t\"./SetupView\": [\n\t\t\"bAPZ\"\n\t],\n\t\"./SetupView.vue\": [\n\t\t\"bAPZ\"\n\t],\n\t\"./SoftwareUpgrade\": [\n\t\t\"KDLF\"\n\t],\n\t\"./SoftwareUpgrade.vue\": [\n\t\t\"KDLF\"\n\t],\n\t\"./TaskBar\": [\n\t\t\"J7JO\"\n\t],\n\t\"./TaskBar.vue\": [\n\t\t\"J7JO\"\n\t],\n\t\"./Toast\": [\n\t\t\"hNqL\"\n\t],\n\t\"./Toast.vue\": [\n\t\t\"hNqL\"\n\t],\n\t\"./WifiClientConfig\": [\n\t\t\"xtvL\"\n\t],\n\t\"./WifiClientConfig.vue\": [\n\t\t\"xtvL\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"E4d3\";\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components lazy ^\\.\\/.*$\n// module id = E4d3\n// module chunks = 5","<template>\n  <div class=\"taskbar barAlign\" v-bind:class=\"{ solidBg: solidBg }\">\n\n    <div class=\"taskBarStart barAlign\">\n      <div class=\"starticon c-hand\" @click=\"onHome\">\n        <img src=\"static/img/icons/onion.svg\" alt=\"\">\n      </div>\n    </div>\n\n    <div class=\"taskBarBody barAlign\">\n      <div v-for=\"app in $store.getters.runningApps\"\n        @click=\"openApp(app.id)\"\n        @mouseover=\"hoverApp = app.id\"\n        @mouseout=\"hoverApp = ''\"\n        :key=\"app.id\"\n        class=\"appIconContainer tooltip tooltip-dir\" :data-tooltip=\"app.name\" >\n        <img :src=\"app.icon\" class=\"appIcon\">\n\n        <i class=\"icon icon-cross closeBtn c-hand\"\n          v-show=\"hoverApp === app.id\"\n          @click=\"closeApp(app.id)\"\n        ></i>\n      </div>\n    </div>\n\n    <div class=\"taskBarEnd barAlign\">\n\n      <div class=\"tooltip tooltip-dir\"\n        data-tooltip=\"No Internet. Some Apps may not work\"\n        v-if=\"!$store.getters.isOnline\"\n      >\n        <i class=\"icon icon-stop no-wifi-icon\" ></i>\n        <!-- <i class=\"mdi mdi-wifi-off taskbar-icon no-wifi-icon\"></i> -->\n      </div>\n\n      <div class=\"tooltip tooltip-dir\"\n        data-tooltip=\"About\"\n        @click=\"about\"\n      >\n        <i class=\"icon icon-message taskbar-icon c-hand\" ></i>\n        <!-- <i class=\"mdi mdi-information-outline taskbar-icon c-hand\"></i> -->\n      </div>\n      <div class=\"tooltip tooltip-dir\"\n        data-tooltip=\"Logout\"\n        @click=\"logout\"\n      >\n        <i class=\"icon icon-shutdown taskbar-icon c-hand\"></i>\n        <!-- <i class=\"mdi mdi-power taskbar-icon c-hand\"></i> -->\n\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'TaskBar',\n  props: {\n    solidBg: true\n  },\n  data () {\n    return {\n      hoverApp: ''\n    }\n  },\n  methods: {\n    onHome: function () {\n      this.$store.dispatch('launchApp', {appId: 'launcher'})\n    },\n    openApp: function (appId) {\n      this.$store.dispatch('launchApp', {appId: appId})\n    },\n    closeApp: function (appId) {\n      console.log(appId)\n      this.$store.dispatch('closeApp', {appId: appId})\n      window.event.cancelBubble = 'true'\n      this.hoverApp = ''\n    },\n    logout: function () {\n      // console.log('logout')\n      this.$store.dispatch('logout', {})\n    },\n    about: function () {\n      this.$emit('about')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.closeBtn{\n  position: absolute;\n  bottom: -2px;\n  right: -10px;\n  color: white;\n  background-color: #e74c3c;\n  border-radius: 50%;\n  transition: all 0.2s;\n}\n\n.barAlign {\n  display: flex;\n  flex-direction:column;\n  align-self: center;\n  align-content: center;\n}\n\n.taskBarBody { flex: 1; }\n\n.taskbar-icon {\n  color: white;\n  font-size: 1em;\n  -webkit-transition: all 0.4s;\n  transition: all 0.4s;\n}\n\n.taskbar-icon:hover {\n  color: #e74c3c;\n}\n\n.starticon {\n  width: 28px;\n  height: 28px;\n  padding: 3px;\n  background-color: white;\n  border-radius: 50%;\n\n  -webkit-transition: all 0.2s; /* For Safari 3.1 to 6.0 */\n  transition: all 0.2s;\n}\n\n.starticon:hover {\n  padding: 1px;\n  border-radius: 25%;\n}\n\n.appIconContainer {\n  width: 30px;\n  height: 30px;\n  -webkit-transition: all 0.2s;\n  transition: all 0.2s;\n}\n\n.appIconContainer:hover {\n  width: 42px;\n  height: 42px;\n}\n\n.appIcon {\n  width: 100%;\n  height: 100%;\n\n  padding: 10%;\n}\n\n.solidBg {\n  background-color: black;\n}\n\n.no-wifi-icon {\n  color: #f39c12;\n  animation: blinker 10s linear infinite;\n}\n@keyframes blinker {\n  0% { opacity: 1; }\n  5% { opacity: 0; }\n  10% { opacity: 1; }\n  15% { opacity: 1; }\n  20% { opacity: 0; }\n  25% { opacity: 1; }\n  30% { opacity: 1; }\n  35% { opacity: 0; }\n  40% { opacity: 1; }\n}\n\n@media screen and (min-width:768px){\n  .taskbar{\n    height: 100vh;\n    width: 36px;\n    padding-top: 20px;\n    padding-bottom: 12px;\n  }\n\n  .barAlign > div{\n    margin-bottom: 8px;\n  }\n\n  .tooltip.tooltip-dir::after {\n    bottom: 50%;\n    left: 100%;\n    transform: translate(20px,50%);\n  }\n}\n\n@media screen and (max-width:768px){\n  .taskbar{\n    flex-direction:row;\n    height: 36px;\n    width: 100%;\n\n    /* padding-top: 0; */\n    /* padding-bottom: 0; */\n    padding-left: 20px;\n    padding-right: 12px;\n  }\n\n  .barAlign {\n    display: flex;\n    flex-direction: row;\n  }\n\n  .barAlign > div{\n    margin-right: 8px;\n    align-content: center;\n  }\n\n  .tooltip.tooltip-dir::after {\n    bottom: auto;\n    top: 100%;\n    transform: translate(-50%,.4rem);\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/TaskBar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"taskbar barAlign\",class:{ solidBg: _vm.solidBg }},[_c('div',{staticClass:\"taskBarStart barAlign\"},[_c('div',{staticClass:\"starticon c-hand\",on:{\"click\":_vm.onHome}},[_c('img',{attrs:{\"src\":\"static/img/icons/onion.svg\",\"alt\":\"\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"taskBarBody barAlign\"},_vm._l((_vm.$store.getters.runningApps),function(app){return _c('div',{key:app.id,staticClass:\"appIconContainer tooltip tooltip-dir\",attrs:{\"data-tooltip\":app.name},on:{\"click\":function($event){_vm.openApp(app.id)},\"mouseover\":function($event){_vm.hoverApp = app.id},\"mouseout\":function($event){_vm.hoverApp = ''}}},[_c('img',{staticClass:\"appIcon\",attrs:{\"src\":app.icon}}),_vm._v(\" \"),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hoverApp === app.id),expression:\"hoverApp === app.id\"}],staticClass:\"icon icon-cross closeBtn c-hand\",on:{\"click\":function($event){_vm.closeApp(app.id)}}})])})),_vm._v(\" \"),_c('div',{staticClass:\"taskBarEnd barAlign\"},[(!_vm.$store.getters.isOnline)?_c('div',{staticClass:\"tooltip tooltip-dir\",attrs:{\"data-tooltip\":\"No Internet. Some Apps may not work\"}},[_c('i',{staticClass:\"icon icon-stop no-wifi-icon\"})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"tooltip tooltip-dir\",attrs:{\"data-tooltip\":\"About\"},on:{\"click\":_vm.about}},[_c('i',{staticClass:\"icon icon-message taskbar-icon c-hand\"})]),_vm._v(\" \"),_c('div',{staticClass:\"tooltip tooltip-dir\",attrs:{\"data-tooltip\":\"Logout\"},on:{\"click\":_vm.logout}},[_c('i',{staticClass:\"icon icon-shutdown taskbar-icon c-hand\"})])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2001fef7\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TaskBar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2001fef7\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TaskBar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TaskBar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TaskBar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2001fef7\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./TaskBar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2001fef7\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TaskBar.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"container\">\n    <div class=\"loading loading-lg upgrade-loading\" v-show=\"view.isLoading\"> </div>\n    <div class=\"upgrade-message\" v-html=\"view.msg\"></div>\n\n    <img v-if=\"view.img\" :src=\"view.img\"/>\n\n    <div class=\"bar progress-bar\" v-show=\"view.bProgressBar\">\n      <div class=\"bar-item\" :style=\"{width: `${progressPercent}%`}\"></div>\n    </div>\n\n    <div class=\"container\" v-show=\"!view.isLoading\">\n\n      <table class=\"table\" v-show=\"view.bShowTable\">\n        <tbody>\n          <!-- <tr>\n            <td>Model</td>\n            <td>Onion Omega2+</td>\n          </tr> -->\n          <tr>\n            <td>Current Firmware</td>\n            <td>{{currentFirmware}}</td>\n          </tr>\n          <tr>\n            <td>Latest Firmware</td>\n            <td>{{latestFirmware}}</td>\n          </tr>\n        </tbody>\n      </table>\n\n      <button class=\"btn btn-success upgrade-btn\" v-show=\"view.bUpgradeButton\" @click=\"upgrade\">Update Now</button>\n    </div>\n\n    <span class=\"label message-box\" v-show=\"view.labelText.length > 0\" v-html=\"view.labelText\"></span>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'SoftwareUpgrade',\n  data () {\n    return {\n      upgradeInfo: {},\n      view: {\n        isLoading: true,\n        bShowTable: false,\n        bUpgradeButton: false,\n        bProgressBar: false,\n        msg: '',\n        labelText: '',\n        progress: {\n          value: 0,\n          max: 100\n        }\n      },\n      interval: {\n        install: 65\n      }\n    }\n  },\n  computed: {\n    currentFirmware: function () {\n      if (this.upgradeInfo.device) {\n        return `${this.upgradeInfo.device.version} (b${this.upgradeInfo.device.build})`\n      }\n      return `X (bY)`\n    },\n    latestFirmware: function () {\n      if (this.upgradeInfo.repo) {\n        return `${this.upgradeInfo.repo.version} (b${this.upgradeInfo.repo.build})`\n      }\n      return `Z (bA)`\n    },\n    progressPercent: function () {\n      return Math.round(this.view.progress.value * 100 / this.view.progress.max)\n    }\n  },\n  methods: {\n    /// view functions ///\n    setView: function (state) {\n      switch (state) {\n        case 'check':\n          this.view.isLoading = true\n          this.view.bUpgradeButton = false\n          this.view.bProgressBar = false\n          this.view.msg = 'Checking if updates are available'\n          this.view.img = null\n          break\n        case 'needUpdate':\n          this.view.isLoading = false\n          this.view.bUpgradeButton = true\n          this.view.msg = '<strong>New firmware is available!</strong><br>Update your Omega to the latest and greatest firmware to get all the newest software goodies from Onion.'\n          this.view.labelText = 'Your Omega will download and install the latest firmware, this process will take about 5 minutes.<br>It\\'s important that you <strong>do NOT unplug your Omega during the update</strong>!'\n          this.view.img = null\n          break\n        case 'onLatest':\n          this.view.isLoading = false\n          this.view.bUpgradeButton = false\n          this.view.msg = 'Great, you are on the latest version, no updates required!'\n          this.view.img = null\n          this.$emit('next')\n          break\n        case 'downloading':\n          this.view.isLoading = true\n          this.view.bUpgradeButton = false\n          this.view.bProgressBar = true\n          this.view.msg = 'Downloading updates, <strong>do NOT unplug your Omega!</strong>'\n          this.view.labelText = ''\n          this.view.img = null\n          break\n        case 'installing':\n          this.view.isLoading = true\n          this.view.bUpgradeButton = false\n          this.view.bProgressBar = true\n          this.view.msg = 'Installing updates, <strong>do NOT unplug your Omega!</strong>'\n          this.view.img = null\n          break\n        case 'rebooting':\n          this.view.isLoading = true\n          this.view.bUpgradeButton = false\n          this.view.bProgressBar = false\n          this.view.msg = 'Omega is now <strong>initializing, do NOT unplug your Omega!</strong><br><br>Press Continue when your Omega stops blinking and remains on.'\n          this.view.img = 'static/img/omega2_led.gif'\n          this.$emit('next')\n          break\n        default:\n          // do nothing\n          break\n      }\n    },\n    setProgressBarMax: function (maxVal) {\n      this.view.progress.max = maxVal\n    },\n    setProgressBarValue: function (value) {\n      // console.log(`setting progress value to ${value}`)\n      this.view.progress.value = value\n    },\n    /// controller functions ///\n    upgrade: function () {\n      this.$store.dispatch('setInitialSetup', {value: 0}) // 0 means complete\n        .then(() => {\n          return this.downloadFirmware()\n        })\n        .then(() => {\n          return this.installFirmware()\n        })\n        .then(() => {\n          this.setView('rebooting')\n        })\n    },\n    downloadFirmware: function () {\n      return new Promise(function (resolve, reject) {\n        this.setView('downloading')\n        // start the dl\n        this.$store.dispatch('handleScript', {code: `wget -O ${this.upgradeInfo.image.local} ${this.upgradeInfo.image.url} `})\n          .then(resp => {\n            this.$store.dispatch('waitProcess', {pid: resp.pid})\n              .then(() => {\n                console.log('download complete')\n                clearInterval(updateProgressbar)\n                resolve()\n              })\n          })\n\n        // use progress bar to track download based on filesize\n        this.setProgressBarValue(0)\n        this.setProgressBarMax(this.upgradeInfo.image.size)\n        var updateProgressbar = setInterval(function () {\n          this.$store.dispatch('request', {\n            object: 'file',\n            method: 'stat',\n            params: {\n              path: this.upgradeInfo.image.local\n            }\n          })\n            .then(resp => {\n              this.setProgressBarValue(resp.size)\n            })\n        }.bind(this), 250)\n      }.bind(this))\n    },\n    installFirmware: function () {\n      return new Promise(function (resolve, reject) {\n        this.setView('installing')\n        // start the upgrade procedure\n        this.$store.dispatch('handleScript', {code: `sleep 1; sysupgrade ${this.upgradeInfo.image.local}`})\n          .then(() => {\n            // use the progress bar to count down 65 seconds\n            var progressValue = 0\n            this.setProgressBarValue(progressValue)\n            this.setProgressBarMax(this.interval.install)\n            var updateProgressbar = setInterval(function () {\n              this.setProgressBarValue(progressValue++)\n            }.bind(this), 1000)\n\n            // move on to the next step\n            setTimeout(function () {\n              clearInterval(updateProgressbar)\n              resolve()\n            }, (this.interval.install + 5) * 1000)\n          })\n      }.bind(this))\n    }\n  },\n  created: function () {\n    this.setView('check')\n\n    this.$store.dispatch('request', {\n      object: 'onion',\n      method: 'oupgrade',\n      params: { params: {check: ''} }\n    })\n      .then(resp => {\n        this.upgradeInfo = resp\n        if (this.upgradeInfo.upgrade) {\n          this.setView('needUpdate')\n        } else {\n          this.setView('onLatest')\n          // setTimeout(() => {\n          //   this.$emit('success')\n          // }, 2000)\n        }\n      })\n  }\n}\n</script>\n\n<style scoped>\n.upgrade-loading {\n  width: 50%;\n}\n\n.table {\n  max-width: 400px;\n}\n\n.container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.upgrade-btn {\n  margin-top: 20px;\n}\n\n.message-box {\n  margin: 10px;\n  padding: 10px;\n}\n\n.upgrade-message {\n  margin: 10px;\n  padding: 10px;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/SoftwareUpgrade.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.view.isLoading),expression:\"view.isLoading\"}],staticClass:\"loading loading-lg upgrade-loading\"}),_vm._v(\" \"),_c('div',{staticClass:\"upgrade-message\",domProps:{\"innerHTML\":_vm._s(_vm.view.msg)}}),_vm._v(\" \"),(_vm.view.img)?_c('img',{attrs:{\"src\":_vm.view.img}}):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.view.bProgressBar),expression:\"view.bProgressBar\"}],staticClass:\"bar progress-bar\"},[_c('div',{staticClass:\"bar-item\",style:({width: (_vm.progressPercent + \"%\")})})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.view.isLoading),expression:\"!view.isLoading\"}],staticClass:\"container\"},[_c('table',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.view.bShowTable),expression:\"view.bShowTable\"}],staticClass:\"table\"},[_c('tbody',[_c('tr',[_c('td',[_vm._v(\"Current Firmware\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.currentFirmware))])]),_vm._v(\" \"),_c('tr',[_c('td',[_vm._v(\"Latest Firmware\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.latestFirmware))])])])]),_vm._v(\" \"),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.view.bUpgradeButton),expression:\"view.bUpgradeButton\"}],staticClass:\"btn btn-success upgrade-btn\",on:{\"click\":_vm.upgrade}},[_vm._v(\"Update Now\")])]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.view.labelText.length > 0),expression:\"view.labelText.length > 0\"}],staticClass:\"label message-box\",domProps:{\"innerHTML\":_vm._s(_vm.view.labelText)}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-28c37eb9\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/SoftwareUpgrade.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-28c37eb9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SoftwareUpgrade.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SoftwareUpgrade.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SoftwareUpgrade.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-28c37eb9\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SoftwareUpgrade.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-28c37eb9\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/SoftwareUpgrade.vue\n// module id = null\n// module chunks = ","import axios from 'axios'\naxios.defaults.headers.post['Content-Type'] = 'application/json'\n\nexport default {\n  request (url, token, pkg, fn, params) {\n    return new Promise(function (resolve, reject) {\n      axios.post(url, {\n        'jsonrpc': '2.0',\n        'id': 0,\n        'method': 'call',\n        'params': [\n          token,\n          pkg,\n          fn,\n          params\n        ]\n      })\n        .then(response => {\n          // console.log(response)\n          if (response.data) {\n            if (response.data.result && Array.isArray(response.data.result) && typeof response.data.result[0] !== 'undefined' && response.data.result[0] === 0) {\n              // console.log('ubus success!')\n              // console.log(response.data.result[1])\n              resolve(response.data.result[1])\n            } else {\n              console.log('ubus error!')\n              if (response.data.error) {\n                // console.log('code ' + response.data.error.code || -1 + ' message ' + response.data.error.message || '')\n                reject(response.data.error)\n              } else if (response.data.result && Array.isArray(response.data.result) && typeof response.data.result[0] !== 'undefined') {\n                // console.log('code ' + response.data.result[0])\n                reject(response.data.result[0])\n              }\n            }\n          }\n        })\n        .catch(e => {\n          console.error(e)\n          // this.errors.push(e)\n          reject(e)\n        })\n    })\n  },\n  errorCode: {\n    AccessDenied: -32002\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/ubus.js","\nexport default {\n  init () {\n    // eslint-disable-next-line\n    (function(e,t){var n=e.amplitude||{_q:[],_iq:{}};var r=t.createElement(\"script\");r.type=\"text/javascript\";r.async=true ;r.src=\"https://cdn.amplitude.com/libs/amplitude-4.2.1-min.gz.js\" ;r.onload=function(){if(e.amplitude.runQueuedFunctions){ e.amplitude.runQueuedFunctions()}else{ console.log(\"[Amplitude] Error: could not load SDK\")}} ;var i=t.getElementsByTagName(\"script\")[0];i.parentNode.insertBefore(r,i) ;function s(e,t){e.prototype[t]=function(){ this._q.push([t].concat(Array.prototype.slice.call(arguments,0)));return this}} var o=function(){this._q=[];return this} ;var a=[\"add\",\"append\",\"clearAll\",\"prepend\",\"set\",\"setOnce\",\"unset\"] ;for(var u=0;u<a.length;u++){s(o,a[u])}n.Identify=o;var c=function(){this._q=[] ;return this} ;var l=[\"setProductId\",\"setQuantity\",\"setPrice\",\"setRevenueType\",\"setEventProperties\"] ;for(var p=0;p<l.length;p++){s(c,l[p])}n.Revenue=c ;var d=[\"init\",\"logEvent\",\"logRevenue\",\"setUserId\",\"setUserProperties\",\"setOptOut\",\"setVersionName\",\"setDomain\",\"setDeviceId\",\"setGlobalUserProperties\",\"identify\",\"clearUserProperties\",\"setGroup\",\"logRevenueV2\",\"regenerateDeviceId\",\"logEventWithTimestamp\",\"logEventWithGroups\",\"setSessionId\",\"resetSessionId\"] ;function v(e){function t(t){e[t]=function(){ e._q.push([t].concat(Array.prototype.slice.call(arguments,0)))}} for(var n=0;n<d.length;n++){t(d[n])}}v(n);n.getInstance=function(e){ e=(!e||e.length===0?\"$default_instance\":e).toLowerCase() ;if(!n._iq.hasOwnProperty(e)){n._iq[e]={_q:[]};v(n._iq[e])}return n._iq[e]} ;e.amplitude=n})(window,document);\n\n    // eslint-disable-next-line\n    window.amplitude.getInstance().init('285e8dd4e223767a74f3dd0d8ab990ae')\n  },\n  logEvent (eventName, eventProperties) {\n    window.amplitude.getInstance().logEvent(eventName, eventProperties)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/analytics.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport ubus from '../api/ubus'\nimport analytics from '../api/analytics'\nimport isOnline from 'is-online'\nimport axios from 'axios'\n\nVue.use(Vuex)\n\nwindow.console.makeId = function () {\n  return Math.random().toString(36).substring(2)\n}\n\nvar devMode = process.env.NODE_ENV === 'development'\nvar devHost = process.env.DEV_HOST\nvar hostName = `${devMode ? devHost : window.location.hostname}`\nvar appPath = '/apps/'\n\nvar defaultToken = '00000000000000000000000000000000'\n\nvar store = new Vuex.Store({\n  // variables\n  state: {\n    system: {\n      online: false,\n      initialSetup: false\n    },\n    device: { },\n    rpc: {\n      username: '',\n      password: '',\n      token: sessionStorage.getItem('_onion_console_session_token') || defaultToken,\n      // url: 'http://omega-2767.local/ubus'\n      url: `http://${devMode ? devHost : window.location.hostname}/ubus`,\n      heartbeatHandel: null\n    },\n    mqtt: {\n      subscription: {}\n    },\n    apps: {\n      active: 'launcher',\n      running: [],\n      available: {\n        launcher: {\n          id: 'launcher',\n          type: 'AppLauncher',\n          name: 'Launcher',\n          background: true\n        }\n      }\n    },\n    appsDefault: {\n      active: 'launcher',\n      running: [],\n      available: {\n        launcher: {\n          id: 'launcher',\n          type: 'AppLauncher',\n          name: 'Launcher',\n          background: true\n        },\n        // 'home-app': {\n        //   id: 'home-app',\n        //   type: 'IframeApp',\n        //   name: 'Onion Site',\n        //   icon: 'static/img/icons/home.svg',\n        //   params: {url: 'https://onion.io'}\n        // },\n        'doc-app': {\n          id: 'doc-app',\n          type: 'IframeApp',\n          name: 'Onion Docs',\n          icon: 'static/img/icons/docs.svg',\n          params: {\n            url: 'https://docs.onion.io',\n            internet: true\n          }\n        },\n        // 'nfc-rfid-app': {\n        //   id: 'nfc-rfid-app',\n        //   type: 'IframeApp',\n        //   name: 'NFC-RFID Expansion',\n        //   icon: 'static/img/icons/nfc-rfid-app.svg',\n        //   params: {url: '/apps/nfc-rfid-exp'}\n        //   // params: {url: 'http://localhost:8081'}\n        // },\n        'terminal-app': {\n          id: 'terminal-app',\n          type: 'IframeApp',\n          name: 'Terminal',\n          icon: 'static/img/icons/terminal.svg',\n          params: {url: `http://${devMode ? devHost : window.location.hostname}:4200`}\n        },\n        // 'editor-app': {\n        //   id: 'editor-app',\n        //   type: 'IframeApp',\n        //   name: 'Code Editor',\n        //   icon: 'static/img/icons/code.svg',\n        //   params: {url: `${devMode ? 'http://' + devHost : ''}` + '/apps/editor/'}\n        // },\n        // 'legacy-console-app': {\n        //   id: 'legacy-console-app',\n        //   type: 'ExternalApp',\n        //   name: 'Legacy Console',\n        //   icon: 'static/img/icons/old-console-app.svg',\n        //   params: {url: '/console'}\n        // },\n        // 'preferences-app': {\n        //   id: 'preferences-app',\n        //   type: 'PreferencesApp',\n        //   name: 'Preferences',\n        //   icon: 'static/img/icons/preference.svg'\n        // },\n        'app-manager-app': {\n          id: 'app-manager-app',\n          type: 'AppManagerApp',\n          name: 'App Manager',\n          icon: 'static/img/icons/store.svg'\n        }\n        // 'file-browser-app': {\n        //   id: 'file-browser-app',\n        //   type: 'IframeApp',\n        //   name: 'Tiny File Manager',\n        //   icon: 'static/img/icons/folder.svg',\n        //   params: {url: 'http://omega-2767.local/tinyfilemanager.php'}\n        // },\n        // 'cron-manager-app': {\n        //   id: 'cron-manager-app',\n        //   type: 'IframeApp',\n        //   name: 'Cron Task Manager',\n        //   icon: 'static/img/icons/tasks.svg',\n        //   params: {url: 'http://omega-2767.local/CronWeb/#new'}\n        // },\n        // 'log-viewer-app': {\n        //   id: 'log-viewer-app',\n        //   type: 'IframeApp',\n        //   name: 'Log Viewer',\n        //   icon: 'static/img/icons/log.svg',\n        //   params: {url: 'http://omega-2767.local/tail/Log.php'}\n        // }\n      }\n    }\n  },\n  // functions that change the state - must be synchronous\n  mutations: {\n    initialSetup (state, initialSetup) {\n      state.system.initialSetup = initialSetup\n    },\n    registerUser (state, {username, password}) {\n      state.rpc.username = username\n      state.rpc.password = password\n    },\n    registerSession (state, token) {\n      if (token) {\n        state.rpc.token = token\n        sessionStorage.setItem('_onion_console_session_token', token)\n      } else {\n        state.rpc.token = defaultToken\n        sessionStorage.removeItem('_onion_console_session_token')\n      }\n    },\n    registerAppHandler (state, appId, callback) {\n\n    },\n    launchApp (state, appId) {\n      var app = state.apps.available[appId]\n\n      var appExist = false\n      for (var i = 0; i < state.apps.running.length; i++) {\n        var runningApp = state.apps.running[i]\n        if (runningApp.id === app.id) {\n          appExist = true\n          break\n        }\n      }\n\n      if (!appExist) {\n        state.apps.running.push(app)\n        if (app.type !== 'IframeApp') {\n          Vue.component(app.type, () => import('@/components/' + app.type))\n        }\n\n        // analytics\n        if (appId !== 'launcher') {\n          analytics.logEvent('App - Open', {'app': appId})\n        }\n      }\n      state.apps.active = appId\n    },\n    closeApp (state, appId) {\n      for (var i = 0; i < state.apps.running.length; i++) {\n        var runningApp = state.apps.running[i]\n        if (runningApp.id === appId) {\n          state.apps.running.splice(i, 1)\n          break\n        }\n      }\n    },\n    updateInternetStatus (state, isOnline) {\n      state.system.online = isOnline\n    },\n    mqttSubscribe (state, {appUid, topic}) {\n      if (topic in state.mqtt.subscription) {\n        state.mqtt.subscription[topic].push(appUid)\n      } else {\n        state.mqtt.subscription[topic] = [appUid]\n      }\n    },\n    deviceInfo (state, device) {\n      state.device = device\n    },\n    updateAppList (state, apps) {\n      // resetting the base app list with a deep copy of the defualt list\n      var defaultApps = JSON.parse(JSON.stringify(state.appsDefault.available))\n      Vue.set(state.apps, 'available', defaultApps)\n\n      // now add any installed apps\n      for (var i = 0; i < apps.length; i++) {\n        var app = apps[i]\n        app.type = app.type || 'IframeApp'\n        app.icon = 'http://' + hostName + appPath + app.id + '/' + app.icon\n\n        app.params = app.params || {}\n        if (app.type === 'IframeApp' && app.params.url === undefined) {\n          app.params.url = 'http://' + hostName + appPath + app.id\n        }\n        // app.params.url = app.params.url.replace('http://', '')\n        app.params.url = app.params.url.replace('{{host}}', hostName)\n        Vue.set(state.apps.available, app.id, app)\n      }\n\n      // Include Construction Site App in Dev Model\n      if (devMode) {\n        Vue.set(state.apps.available, 'construction-site',\n          {\n            id: 'construction-site',\n            type: 'IframeApp',\n            name: 'Site 8081',\n            icon: 'static/img/icons/crane.svg',\n            params: {url: 'http://localhost:8081'}\n          })\n      }\n    }\n  },\n  // functions that commit mutations - can be asynchronous\n  actions: {\n    checkInitialSetup ({commit, dispatch}) {\n      return new Promise(function (resolve, reject) {\n        axios.get(`http://${devMode ? devHost : window.location.hostname}/cgi-bin/setup`)\n          .then(function (response) {\n            if (response.data.initialSetup !== null) {\n              commit('initialSetup', response.data.initialSetup)\n            }\n            resolve()\n          })\n      })\n    },\n    setInitialSetup ({commit, dispatch}, {value}) {\n      return new Promise(function (resolve, reject) {\n        dispatch('request', {\n          object: 'uci',\n          method: 'set',\n          params: {\n            config: 'onion',\n            section: 'console',\n            values: {\n              setup: (value === 1 ? '0' : '1')\n            }\n          }\n        })\n          .then(function () {\n            dispatch('request', {\n              object: 'uci',\n              method: 'commit',\n              params: {\n                config: 'onion'\n              }\n            })\n              .then(resolve)\n          })\n      })\n    },\n    login ({commit, state, dispatch}, {username, password}) {\n      return new Promise(function (resolve, reject) {\n        ubus.request(\n          state.rpc.url,\n          state.rpc.token,\n          'session',\n          'login',\n          {\n            'username': username,\n            'password': password\n          }\n        )\n          .then(resp => {\n            // login success\n            // console.log('login success:', resp)\n            commit('registerUser', {\n              'username': username,\n              'password': password\n            })\n            commit('registerSession', resp.ubus_rpc_session)\n            dispatch('getDeviceInfo')\n            dispatch('refreshAppList')\n            dispatch('startHeartbeat')\n            resolve(resp)\n          })\n          .catch(resp => {\n            console.log('login failed')\n            reject(resp)\n          })\n      })\n    },\n    logout ({commit}) {\n      commit('registerUser', {\n        'username': '',\n        'password': ''\n      })\n      commit('registerSession', null)\n    },\n    getDeviceInfo ({commit, state, dispatch, getters}) {\n      if (!getters.isAuthenticated) { return }\n\n      var p1 = dispatch('request', {\n        object: 'system',\n        method: 'board',\n        params: {}\n      })\n      var p2 = dispatch('request', {\n        object: 'network.device',\n        method: 'status',\n        params: {}\n      })\n      var p3 = dispatch('request', {\n        object: 'uci',\n        method: 'get',\n        params: {\n          config: 'onion',\n          section: '@onion[0]'\n        }\n      })\n\n      Promise.all([p1, p2, p3])\n        .then(values => {\n          var resp = values[0]\n          resp['mac'] = {\n            'ra0': values[1]['ra0']['macaddr'],\n            'apcli0': values[1]['apcli0']['macaddr'],\n            'eth0': values[1]['eth0']['macaddr']\n          }\n          resp['firmware'] = {\n            'build': values[2]['values']['build'],\n            'version': values[2]['values']['version']\n          }\n          commit('deviceInfo', resp)\n\n          // analytics - test\n          // TODO: find a better place for this\n          analytics.logEvent('OnionOS - Login', resp)\n        })\n    },\n    request ({commit, state, dispatch, getters}, {object, method, params}) {\n      // TODO: check if authenticated\n      return new Promise(function (resolve, reject) {\n        if (getters.isAuthenticated) {\n          ubus.request(\n            state.rpc.url,\n            state.rpc.token,\n            object,\n            method,\n            params\n          )\n            .then(resp => {\n              // request success\n              resolve(resp)\n            })\n            .catch(resp => {\n              // request failed\n              console.log(resp)\n              if (resp && resp.code === ubus.errorCode.AccessDenied) {\n                dispatch('logout')\n                console.log('Session expired')\n              }\n              reject(resp)\n            })\n        } else {\n          reject(Error('Not authenticated'))\n        }\n      })\n    },\n    launchApp ({commit}, {appId}) {\n      commit('launchApp', appId)\n    },\n    closeApp ({commit, state}, {appId}) {\n      commit('closeApp', appId)\n      commit('launchApp', 'launcher')\n    },\n    notifyApp ({commit}, {appUid, eventId, data}) {\n      console.log('on notify app')\n      var event = new Event(`app-${appUid}`)\n      event.data = {\n        content: data\n      }\n      event.name = eventId\n      window.dispatchEvent(event)\n    },\n    checkInternet ({commit}) {\n      isOnline().then(online => {\n        commit('updateInternetStatus', online)\n      })\n    },\n    initCDK ({dispatch}) {\n      window.addEventListener('message', function (e) {\n        var data = e.data\n        if (typeof data.event !== 'undefined' &&\n            typeof data.instance !== 'undefined' &&\n            typeof data.eventId !== 'undefined' &&\n            typeof data.content !== 'undefined'\n        ) {\n          if (data.event.indexOf('Onion.CDK') > -1) {\n            // debug\n            // console.toast('test toast')\n            var requestType = data.event.replace('Onion.CDK.', '')\n            switch (requestType) {\n              case 'Service':\n                dispatch('handleService', (data))\n                  .then(resp => {\n                    var event = new Event(`app-${data.instance}`)\n                    event.data = {\n                      content: {\n                        command: data.content.command,\n                        name: data.content.service,\n                        result: resp\n                      }\n                    }\n                    event.name = data.event\n                    window.dispatchEvent(event)\n                  })\n                break\n              case 'Subscribe':\n                dispatch('mqttSubscribe', {\n                  topic: data.content.topic,\n                  appUid: data.instance\n                })\n                break\n              case 'Command':\n                var eventId = 'Onion.CDK.Command'\n                dispatch('handleCommand', {cmd: data.content.cmd, params: data.content.params})\n                  .then(resp => {\n                    dispatch('notifyApp', {appUid: data.instance, eventId: eventId, data: {cmd: data.content.cmd, resp: resp.stdout}})\n                  })\n                break\n              case 'Toast':\n                console.toast(data.content.message)\n                break\n              default:\n                console.log('unrecognized CDK event: ' + data.event)\n                break\n            }\n          }\n        }\n      }, false)\n    },\n    handleService: function ({dispatch}, data) {\n      return new Promise(function (resolve, reject) {\n        if (data.content.command === 'start' || data.content.command === 'stop') {\n          dispatch('request', {\n            object: 'file',\n            method: 'exec',\n            params: {\n              command: '/etc/init.d/' + data.content.service,\n              params: [\n                data.content.command\n              ]\n            }\n          })\n            .then(resp => {\n              // console.log('Service ' + data.content.service + ' accepted ' + data.content.command + ' command')\n              resolve(true)\n            })\n            .catch(resp => {\n              // console.log('Service start failed!')\n              resolve(false)\n            })\n        } else if (data.content.command === 'list') {\n          dispatch('serviceStatus')\n            .then(resp => {\n              // console.log(resp)\n              if (resp[data.content.service]) {\n                resolve(true)\n              } else {\n                resolve(false)\n              }\n            })\n        } else {\n          reject(Error('Invalid input'))\n        }\n      })\n    },\n    serviceStatus ({dispatch}) {\n      return dispatch('request', {\n        object: 'service',\n        method: 'list',\n        params: {}\n      })\n    },\n    readFile ({dispatch}, {path}) {\n      return dispatch('request', {\n        object: 'file',\n        method: 'read',\n        params: {path: path}\n      })\n    },\n    handleCommand ({dispatch}, {cmd, params}) {\n      return dispatch('request', {\n        object: 'file',\n        method: 'exec',\n        params: {command: cmd, params: params}\n      })\n    },\n    handleScript ({dispatch}, {code}) {\n      var scriptPath = `/tmp/oos-${console.makeId()}.sh`\n      return dispatch('request', {\n        object: 'file',\n        method: 'write',\n        params: {path: scriptPath, data: code}\n      }).then(resp => {\n        var proc = dispatch('request', {\n          object: 'onion-helper',\n          method: 'background',\n          params: {command: 'sh', params: [scriptPath]}\n        })\n        proc.finally(() => {\n          dispatch('request', { object: 'file', method: 'exec', params: {command: 'rm', params: [scriptPath]} }).then(console.log)\n        })\n        return proc\n      })\n    },\n    waitProcess ({dispatch}, {pid}) {\n      return new Promise((resolve, reject) => {\n        var pidWatcher = setInterval(() => {\n          dispatch('request', { object: 'file', method: 'exec', params: {command: 'ls', params: [`/proc/${pid}/stat`]} }).then(resp => {\n            if (resp.code === 1) {\n              // process ended\n              clearInterval(pidWatcher)\n              resolve()\n            }\n          })\n        }, 1000)\n      })\n    },\n    mqttSubscribe ({commit, dispatch}, {appUid, topic}) {\n      commit('mqttSubscribe', {appUid, topic})\n    },\n    mqttMessage ({state}, {topic, data}) {\n      if (topic in state.mqtt.subscription) {\n        for (var appUid of state.mqtt.subscription[topic]) {\n          var event = new Event(`app-${appUid}`)\n          event.data = {\n            content: {\n              topic: topic,\n              content: data.toString()\n            }\n          }\n          event.name = 'Onion.CDK.Message'\n          window.dispatchEvent(event)\n        }\n      }\n    },\n    refreshAppList ({getters, commit, state, dispatch}) {\n      console.log('on refresh apps')\n      if (!getters.isAuthenticated) { return }\n      dispatch('request', {\n        object: 'onion-os',\n        method: 'app-list',\n        params: {}\n      }).then(resp => {\n        if (resp.apps) {\n          commit('updateAppList', resp.apps)\n        }\n      })\n    },\n    startHeartbeat ({state, dispatch}) {\n      // console.log('startHeartbeat')\n      if (state.rpc.heartbeatHandel) {\n        clearInterval(state.rpc.heartbeatHandel)\n        state.rpc.heartbeatHandel = null\n      }\n      state.rpc.heartbeatHandel = setInterval(function () {\n        dispatch('request', {\n          object: 'session',\n          method: 'access',\n          params: {}\n        })\n      }, 60000)\n    },\n    logInit () {\n      analytics.init()\n    },\n    logEvent (eventName, eventProperties) {\n      analytics.logEvent(eventName, eventProperties)\n      // window.amplitude.getInstance().logEvent(eventName, eventProperties)\n    }\n  },\n  // provide access to state objects\n  getters: {\n    isAuthenticated (state) {\n      return (state.rpc.token !== defaultToken)\n    },\n    isInitialSetup (state) {\n      return (state.system.initialSetup)\n    },\n    isOnline (state) {\n      return state.system.online\n    },\n    sessionToken (state) {\n      return state.rpc.token\n    },\n    requestUrl (state) {\n      return state.rpc.url\n    },\n    activeApp (state) {\n      return state.apps.active\n    },\n    runningApps (state) {\n      var result = []\n      for (var i = 0; i < state.apps.running.length; i++) {\n        var app = state.apps.running[i]\n        if (app.background === undefined) {\n          result.push(app)\n        }\n      }\n      return result\n    },\n    availableApps (state) {\n      var result = []\n      for (var a in state.apps.available) {\n        var app = state.apps.available[a]\n        if (app.background === undefined) {\n          result.push(app)\n        }\n      }\n      return result\n    },\n    deviceInfo (state) {\n      // console.log(state.device)\n      return state.device\n    }\n  }\n})\n\nexport default store\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","<template>\n  <div id=\"app\">\n    <ConsoleFrame/>\n  </div>\n</template>\n\n<script>\nimport ConsoleFrame from '@/components/ConsoleFrame'\n\nexport default {\n  name: 'App',\n  components: {\n    ConsoleFrame\n  },\n  created () {\n    this.$store.dispatch('checkInitialSetup')\n    this.$store.dispatch('logInit')\n  }\n}\n</script>\n\n<style>\n#app {\n  height: 100%;\n}\n\nbody{\n  height: 100vh;\n  margin: 0;\n  padding: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('ConsoleFrame')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-430cffa8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-430cffa8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-430cffa8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\n// import '@mdi/font/css/materialdesignicons.min.css'\nimport 'spectre.css/dist/spectre.min.css'\nimport 'spectre.css/dist/spectre-icons.min.css'\n// import 'spectre.css/dist/sspectre-exp.min.css'\nimport VueMqtt from 'vue-mqtt'\n\nimport store from './store'\nimport App from './App'\n\nimport VueAnalytics from 'vue-analytics'\n\n// import { Analytics } from 'aws-amplify'\n// import AwsExports from './app-config/aws-exports'\n// Analytics.configure(AwsExports)\n\nVue.config.productionTip = false\n\nvar devMode = process.env.NODE_ENV === 'development'\nvar devHost = process.env.DEV_HOST\n\nVue.use(VueMqtt, `ws://${devMode ? devHost : window.location.hostname}:9001`)\nVue.use(VueAnalytics, {id: 'UA-48382427-15'})\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n  <div v-if=\"$store.getters.isInitialSetup\">\n\n    <div class=\"modal setup-modal\" :class=\"{active: $store.getters.isInitialSetup}\" >\n      <div class=\"modal-container setup-progress\" >\n        <div class=\"setup-image\" >\n          <img src=\"static/img//Onion-Logo-Full.png\" alt=\"\">\n        </div>\n        <div class=\"bar bar-slider\">\n          <div v-for=\"(step, idx) in steps\" :key=\"idx\"  class=\"bar-item\" :style=\"{width: `${idx/(steps.length-1)*100}%`,\n          background: getProgressColor(idx), 'z-index': steps.length-idx}\">\n            <button class=\"bar-slider-btn btn step-btn\" :style=\"{background: getProgressColor(idx)}\">\n              <div class=\"progress-title\" :style=\"{color: getProgressColor(idx)}\">{{step.title}}</div>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"modal-container setup-steps\" v-for=\"(step, idx) in steps\" v-if=\"currentStep === idx\" :key=\"idx\">\n\n        <!-- Header -->\n        <div class=\"modal-header\">\n          <!-- <img  src=\"static/img/OnionOS.svg\"> -->\n          <h3> {{step.heading}} </h3>\n        </div>\n\n        <!-- Body -->\n        <div class=\"modal-body\">\n          <div class=\"setup-instruction\" v-html=\"step.body\"></div>\n\n          <div class=\"setup-component\" v-if=\"step.component\">\n            <component\n              :is=\"step.component\"\n              @success=\"currentStep ++\"\n              @next=\"step.next = true\"\n            >\n            </component>\n          </div>\n        </div>\n\n        <!-- Footer -->\n        <div class=\"modal-footer\">\n          <button class=\"btn\" v-if=\"step.next\" @click=\"next\">Continue</button>\n          <button class=\"btn\" v-if=\"step.done\" @click=\"done\">Enter OnionOS</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport LoginForm from '@/components/LoginForm'\nimport WifiClientConfig from '@/components/WifiClientConfig'\nimport SoftwareUpgrade from '@/components/SoftwareUpgrade'\n\nexport default {\n  name: 'SetupView',\n  components: {\n    LoginForm,\n    WifiClientConfig,\n    SoftwareUpgrade\n  },\n  data () {\n    return {\n      initialSetup: true,\n      currentStep: 0,\n      steps: [\n        {\n          title: 'Welcome',\n          heading: 'Welcome to the Omega2 Setup Wizard',\n          body: 'Let\\'s get your Omega2 ready to make some amazing things!<br><br>We\\'ll connect to a WiFi network and then upgrade the device software. If you get stuck, check out our <a href=\"http://onioniot.com/getstarted\" target=\"_blank\">getting started guide</a>.',\n          next: true\n        },\n        {\n          title: 'Login',\n          // heading: 'Login',\n          body: 'First, login to your Omega',\n          component: 'LoginForm',\n          next: false\n        },\n        {\n          title: 'WiFi',\n          heading: 'Connect to WiFi',\n          // body: 'First we need to log in to you Omega',\n          component: 'WifiClientConfig',\n          next: false\n        },\n        {\n          title: 'Software',\n          heading: 'Software Update',\n          // body: 'Update Omega Software',\n          component: 'SoftwareUpgrade',\n          next: false\n        },\n        {\n          title: 'Done',\n          heading: 'Done',\n          body: '<strong>You have successfully set up your Omega!</strong><br><br>Wondering what to do next? Check out our <a href=\"http://onioniot.com/project-blog\" target=\"_blank\">project blog</a> to get inspired, or head over to our <a href=\"http://onioniot.com/community\" target=\"_blank\">community forum</a> and talk to other Omega users.',\n          done: true\n        }\n      ]\n    }\n  },\n  methods: {\n    getProgressColor: function (step) {\n      if (step <= this.currentStep) {\n        return '#9B4B63'\n      } else {\n        return '#bdc3c7'\n      }\n    },\n    next: function () {\n      this.currentStep += 1\n    },\n    done: function () {\n      this.initialSetup = false\n      // 0 means complete\n      this.$store.dispatch('setInitialSetup', {\n        value: 0\n      })\n      this.$store.commit('initialSetup', 0)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.setup-component {\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n}\n.setup-image > img {\n  /* height: 200px; */\n  height: 70px;\n  width: auto;\n  margin-bottom: 20px;\n}\n.setup-progress {\n  min-height: 50px;\n  padding: 20px 60px 40px 60px;\n  margin-bottom: 40px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.progress-title {\n  padding-top: 20px;\n  color: #bdc3c7;\n}\n\n.step-btn {\n  display: flex;\n  justify-content: center;\n}\n\n.modal {\n  /* background-image: url(\"~@/assets/img/bg.jpg\"); */\n  /* background: linear-gradient(230deg, #a24bcf, #4b79cf, #4bc5cf); */\n  background: linear-gradient(230deg, #9B4B63, #854B70, #6A4D75, #4F4E72, #3A4C67, #2F4858);\n  background-size: 300% 300%;\n\n  -webkit-animation: MoveBG 10s ease infinite;\n  -moz-animation: MoveBG 10s ease infinite;\n  animation: MoveBG 10s ease infinite;\n\n  /* background-size: cover; */\n  display: flex;\n  flex-direction: column;\n  justify-content: start;\n  padding-top: 40px;\n}\n\n@-webkit-keyframes MoveBG {\n    0%{background-position:0% 50%}\n    50%{background-position:100% 50%}\n    100%{background-position:0% 50%}\n}\n@-moz-keyframes MoveBG {\n    0%{background-position:0% 50%}\n    50%{background-position:100% 50%}\n    100%{background-position:0% 50%}\n}\n@keyframes MoveBG {\n    0%{background-position:0% 50%}\n    50%{background-position:100% 50%}\n    100%{background-position:0% 50%}\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/SetupView.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$store.getters.isInitialSetup)?_c('div',[_c('div',{staticClass:\"modal setup-modal\",class:{active: _vm.$store.getters.isInitialSetup}},[_c('div',{staticClass:\"modal-container setup-progress\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"bar bar-slider\"},_vm._l((_vm.steps),function(step,idx){return _c('div',{key:idx,staticClass:\"bar-item\",style:({width: ((idx/(_vm.steps.length-1)*100) + \"%\"),\n        background: _vm.getProgressColor(idx), 'z-index': _vm.steps.length-idx})},[_c('button',{staticClass:\"bar-slider-btn btn step-btn\",style:({background: _vm.getProgressColor(idx)})},[_c('div',{staticClass:\"progress-title\",style:({color: _vm.getProgressColor(idx)})},[_vm._v(_vm._s(step.title))])])])}))]),_vm._v(\" \"),_vm._l((_vm.steps),function(step,idx){return (_vm.currentStep === idx)?_c('div',{key:idx,staticClass:\"modal-container setup-steps\"},[_c('div',{staticClass:\"modal-header\"},[_c('h3',[_vm._v(\" \"+_vm._s(step.heading)+\" \")])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"setup-instruction\",domProps:{\"innerHTML\":_vm._s(step.body)}}),_vm._v(\" \"),(step.component)?_c('div',{staticClass:\"setup-component\"},[_c(step.component,{tag:\"component\",on:{\"success\":function($event){_vm.currentStep ++},\"next\":function($event){step.next = true}}})],1):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer\"},[(step.next)?_c('button',{staticClass:\"btn\",on:{\"click\":_vm.next}},[_vm._v(\"Continue\")]):_vm._e(),_vm._v(\" \"),(step.done)?_c('button',{staticClass:\"btn\",on:{\"click\":_vm.done}},[_vm._v(\"Enter OnionOS\")]):_vm._e()])]):_vm._e()})],2)]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"setup-image\"},[_c('img',{attrs:{\"src\":\"static/img//Onion-Logo-Full.png\",\"alt\":\"\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-486688de\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/SetupView.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-486688de\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SetupView.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SetupView.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SetupView.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-486688de\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SetupView.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-486688de\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/SetupView.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"modal modal-sm\" :class=\"{active: active}\">\n  <a class=\"modal-overlay\" @click=\"close\" ></a>\n  <div class=\"modal-container\">\n    <div class=\"modal-header\">\n      <a class=\"btn btn-clear float-right\" @click=\"close\"></a>\n      <!-- <div class=\"modal-title h5\">About</div> -->\n    </div>\n    <div class=\"modal-body\">\n      <div class=\"content\">\n        <!-- content here -->\n        <div class=\"about-image\">\n          <img src=\"static/img/OnionOS.svg\" alt=\"\">\n        </div>\n\n        <div class=\"about-text\">\n          OS version: 1.0\n          <br>\n          Kernel: {{$store.getters.deviceInfo.kernel}}\n          <br>\n          <br>\n          Device: {{$store.getters.deviceInfo.hostname}}\n          <br>\n          Model: {{$store.getters.deviceInfo.model}}\n        </div>\n\n      </div>\n    </div>\n    <div class=\"modal-footer\">\n      &copy; 2018 Onion Corpration All Rights Reserved.\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nexport default {\n  name: 'About',\n  props: {\n    active: true\n  },\n  methods: {\n    close () {\n      this.$emit('close')\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n.about-text {\n  text-align: center;\n  font-size: 0.8em;\n}\n\n.about-image {\n  display: flex;\n  justify-content: center;\n}\n\n.about-image img {\n  width: 200px;\n  height: 200px;\n}\n\n.modal-footer {\n  text-align: center;\n  color: #bdc3c7;\n  font-size: 0.5em;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/About.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal modal-sm\",class:{active: _vm.active}},[_c('a',{staticClass:\"modal-overlay\",on:{\"click\":_vm.close}}),_vm._v(\" \"),_c('div',{staticClass:\"modal-container\"},[_c('div',{staticClass:\"modal-header\"},[_c('a',{staticClass:\"btn btn-clear float-right\",on:{\"click\":_vm.close}})]),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"content\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"about-text\"},[_vm._v(\"\\n          OS version: 1.0\\n          \"),_c('br'),_vm._v(\"\\n          Kernel: \"+_vm._s(_vm.$store.getters.deviceInfo.kernel)+\"\\n          \"),_c('br'),_vm._v(\" \"),_c('br'),_vm._v(\"\\n          Device: \"+_vm._s(_vm.$store.getters.deviceInfo.hostname)+\"\\n          \"),_c('br'),_vm._v(\"\\n          Model: \"+_vm._s(_vm.$store.getters.deviceInfo.model)+\"\\n        \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer\"},[_vm._v(\"\\n       2018 Onion Corpration All Rights Reserved.\\n    \")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about-image\"},[_c('img',{attrs:{\"src\":\"static/img/OnionOS.svg\",\"alt\":\"\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-246997fc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/About.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-246997fc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./About.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./About.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./About.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-246997fc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./About.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-246997fc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/About.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"login-form\" @keyup.enter=\"login\">\n        <div class=\"form-group\">\n          <label class=\"form-label\" for=\"input-username\">Username</label>\n          <input class=\"form-input\" type=\"text\" id=\"input-username\" v-model=\"username\">\n        </div>\n        <div class=\"form-group\">\n          <label class=\"form-label\" for=\"input-password\">Password</label>\n          <input class=\"form-input\" type=\"password\" id=\"input-password\" v-model=\"password\">\n        </div>\n\n        <button class=\"btn btn-success loginButton\" @click=\"login\">Login</button>\n  </div>\n\n</template>\n\n<script>\nexport default {\n  name: 'LoginForm',\n  data () {\n    return {\n      username: '',\n      password: ''\n    }\n  },\n  methods: {\n    login: function () {\n      this.$store.dispatch('login', {username: this.username, password: this.password}).then(resp => {\n        this.$emit('success')\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.login-form{\n  width: 100%;\n  max-width: 400px;\n}\n.loginButton {\n  width: 100%;\n  margin-top: 20px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/LoginForm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-form\",on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"input-username\"}},[_vm._v(\"Username\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"id\":\"input-username\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"input-password\"}},[_vm._v(\"Password\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"form-input\",attrs:{\"type\":\"password\",\"id\":\"input-password\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-success loginButton\",on:{\"click\":_vm.login}},[_vm._v(\"Login\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5f757ff8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/LoginForm.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5f757ff8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./LoginForm.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./LoginForm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./LoginForm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5f757ff8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./LoginForm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5f757ff8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/LoginForm.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"toastPanel\">\n    <transition-group name=\"list\">\n      <div v-for=\"(toast, index) in toastList\" class=\"toast toast-item\" :key=\"toast.id\" >\n        <button class=\"btn btn-clear float-right\" @click=\"close(index)\"></button>\n        <h6 v-if=\"toast.title\">Title</h6>\n        {{toast.message}}\n        <div class=\"bar bar-sm\">\n          <div class=\"bar-item\" :style=\"{width: toast.value+'%'}\"></div>\n        </div>\n      </div>\n    </transition-group>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Toast',\n  data () {\n    return {\n      toastList: []\n    }\n  },\n  props: {\n    timeout: {\n      type: Number,\n      default: 10 // Toast Timeout in Sec\n    }\n  },\n  created: function () {\n    window.console.toast = this.makeToast\n  },\n  methods: {\n    makeId: function () {\n      return Math.random().toString(36).substring(2)\n    },\n    makeToast: function (message, title) {\n      var t = { title: title, message: message, id: this.makeId(), value: 100 }\n      this.toastList.push(t)\n\n      // Automatic Toast timeout timer\n      var intervalHandel = setInterval(function () {\n        var selectedIndex = this.toastList.indexOf(t)\n        if (selectedIndex === -1) {\n          // Toast has been closed by the user\n          clearInterval(intervalHandel)\n          return\n        }\n        var selectedToast = this.toastList[selectedIndex]\n        selectedToast.value -= 1\n        if (selectedToast.value <= 0) {\n          clearInterval(intervalHandel)\n          this.close(selectedIndex)\n        }\n      }.bind(this), this.timeout * 1000 / 100)\n      // Divide total ms by 100% = n ms / tick\n    },\n    close: function (index) {\n      this.toastList.splice(index, 1)\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n.toastPanel{\n  display: block;\n  position: absolute;\n  right: 10px;\n  top: 0;\n  width: 320px;\n  z-index: 500;\n\n  -webkit-transition: all 0.2s; /* For Safari 3.1 to 6.0 */\n  transition: all 0.2s;\n}\n\n.toast {\n  margin-top: 10px;\n}\n\n.list-enter-active, .list-leave-active {\n  transition: all 1s;\n}\n\n.list-enter, .list-leave-to /* .list-leave-active below version 2.1.8 */ {\n  opacity: 0;\n  transform: translateX(30px);\n}\n\n.bar-item {\n  /* to smooth out the animation */\n  -webkit-transition: all 0.2s;\n  transition: all 0.2s;\n  background-color: #48dbfb;\n  left: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Toast.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"toastPanel\"},[_c('transition-group',{attrs:{\"name\":\"list\"}},_vm._l((_vm.toastList),function(toast,index){return _c('div',{key:toast.id,staticClass:\"toast toast-item\"},[_c('button',{staticClass:\"btn btn-clear float-right\",on:{\"click\":function($event){_vm.close(index)}}}),_vm._v(\" \"),(toast.title)?_c('h6',[_vm._v(\"Title\")]):_vm._e(),_vm._v(\"\\n      \"+_vm._s(toast.message)+\"\\n      \"),_c('div',{staticClass:\"bar bar-sm\"},[_c('div',{staticClass:\"bar-item\",style:({width: toast.value+'%'})})])])}))],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f4677de0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Toast.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f4677de0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Toast.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Toast.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Toast.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f4677de0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Toast.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f4677de0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Toast.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"appview\">\n    <component\n      v-for=\"app in $store.state.apps.running\"\n      :is=\"app.type\"\n      :key=\"app.id\"\n      :params=\"app.params\"\n      v-show=\"app.id === $store.state.apps.active\"\n    >\n    </component>\n\n  </div>\n\n</template>\n\n<script>\n\nimport IframeApp from '@/components/IframeApp'\n\nexport default {\n  name: 'AppView',\n  components: {\n    IframeApp\n  },\n  data () {\n    return {\n    }\n  },\n  methods: {\n    closeApp: function (appId) {\n\n    }\n  }\n}\n</script>\n\n<style scoped>\n.appview{\n  flex: 1;\n  text-align: center;\n  height: 100%;\n  overflow: hidden;\n}\n\niframe{\n  margin: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/AppView.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"appview\"},_vm._l((_vm.$store.state.apps.running),function(app){return _c(app.type,{directives:[{name:\"show\",rawName:\"v-show\",value:(app.id === _vm.$store.state.apps.active),expression:\"app.id === $store.state.apps.active\"}],key:app.id,tag:\"component\",attrs:{\"params\":app.params}})}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-60532d25\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/AppView.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-60532d25\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AppView.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AppView.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AppView.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-60532d25\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./AppView.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-60532d25\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/AppView.vue\n// module id = null\n// module chunks = ","<template>\n\n  <div class=\"modal modal-sm\" :class=\"{active: !$store.getters.isAuthenticated}\" >\n    <div class=\"modal-container\">\n\n      <!-- Header -->\n      <div class=\"modal-header\">\n        <img  src=\"static/img/OnionOS.svg\">\n      </div>\n\n      <!-- Body -->\n      <div class=\"modal-body\" @keyup.enter=\"login\">\n        <div class=\"form-group\">\n          <label class=\"form-label\" for=\"input-username\">Username</label>\n          <input class=\"form-input\" type=\"text\" id=\"input-username\" v-model=\"username\">\n        </div>\n        <div class=\"form-group\">\n          <label class=\"form-label\" for=\"input-password\">Password</label>\n          <input class=\"form-input\" type=\"password\" id=\"input-password\" v-model=\"password\">\n        </div>\n      </div>\n\n      <!-- Footer -->\n      <div class=\"modal-footer\">\n        <button class=\"btn btn-success loginButton\" @click=\"login\">Login</button>\n      </div>\n    </div>\n  </div>\n\n</template>\n\n<script>\nexport default {\n  name: 'LoginView',\n  data () {\n    return {\n      username: '',\n      password: ''\n    }\n  },\n  methods: {\n    login: function () {\n      this.$store.dispatch('login', {username: this.username, password: this.password})\n    }\n  }\n}\n</script>\n\n<style scoped>\n.modal {\n  background-image: url(\"~@/assets/img/bg.jpg\");\n  background-size: cover;\n}\n\n.modal-header {\n  display: flex;\n  justify-content: center;\n  padding-bottom: 0;\n}\n\n.modal-header img {\n  width: 150px;\n  height: 150px;\n}\n\n.loginButton {\n  width: 100%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/LoginView.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal modal-sm\",class:{active: !_vm.$store.getters.isAuthenticated}},[_c('div',{staticClass:\"modal-container\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\",on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"input-username\"}},[_vm._v(\"Username\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"id\":\"input-username\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"input-password\"}},[_vm._v(\"Password\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"form-input\",attrs:{\"type\":\"password\",\"id\":\"input-password\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-success loginButton\",on:{\"click\":_vm.login}},[_vm._v(\"Login\")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('img',{attrs:{\"src\":\"static/img/OnionOS.svg\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d05598a4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/LoginView.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d05598a4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./LoginView.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./LoginView.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./LoginView.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d05598a4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./LoginView.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d05598a4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/LoginView.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"frameview\">\n\n    <div class=\"empty\"\n      v-if=\"!$store.getters.isOnline && params.internet\"\n    >\n      <div class=\"empty-icon\">\n        <i class=\"icon icon-cross\"></i>\n      </div>\n      <p class=\"empty-title h5\">This App require an Internet Connection</p>\n      <p class=\"empty-subtitle\">Please make sure your computer is connected to the Internet</p>\n    </div>\n\n    <iframe\n    :src=\"params.url\"\n    width=\"100%\"\n    height=\"100%\"\n    frameBorder=\"0\"\n    v-if=\"!(!$store.getters.isOnline && params.internet)\"\n    :ref=\"AppUid\"\n    @load=\"onLoad\"\n    ></iframe>\n  </div>\n\n</template>\n\n<script>\nexport default {\n  name: 'IframeApp',\n  data () {\n    return {\n      AppUid: console.makeId()\n    }\n  },\n  computed: {\n    listenerUid: function () {\n      return `app-${this.AppUid}`\n    }\n  },\n  props: {\n    params: {},\n    loaded: false\n  },\n  methods: {\n    onLoad: function () {\n      var iframe = this.$refs[this.AppUid]\n\n      // this.$store.dispatch('mqttSubscribe', {topic: '/console/rfid', appUid: this.AppUid})\n      // setup the listener for sending messages to this app\n      // console.log('creating new event ' + this.listenerUid)\n      window.addEventListener(this.listenerUid, function (e) {\n        iframe.contentWindow.postMessage({\n          event: e.name,\n          content: e.data.content\n        }, '*')\n      }, false)\n      // init the app\n      iframe.contentWindow.postMessage({\n        event: 'Onion.CDK.Init',\n        appUid: this.AppUid\n      }, '*')\n    }\n  },\n  created: function () {\n    console.log('created')\n  }\n}\n</script>\n\n<style scoped>\n.frameview{\n  flex: 1%;\n  height: 100%;\n  overflow: hidden;\n}\n\n.empty{\n  height: 100%;\n}\n\n.empty-icon i{\n  font-size: 2em;\n  font-weight: bold;\n  color: white;\n  background-color: #f39c12;\n  padding: 30px;\n  border-radius: 50%;\n}\n\niframe{\n  margin: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/IframeApp.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"frameview\"},[(!_vm.$store.getters.isOnline && _vm.params.internet)?_c('div',{staticClass:\"empty\"},[_vm._m(0),_vm._v(\" \"),_c('p',{staticClass:\"empty-title h5\"},[_vm._v(\"This App require an Internet Connection\")]),_vm._v(\" \"),_c('p',{staticClass:\"empty-subtitle\"},[_vm._v(\"Please make sure your computer is connected to the Internet\")])]):_vm._e(),_vm._v(\" \"),(!(!_vm.$store.getters.isOnline && _vm.params.internet))?_c('iframe',{ref:_vm.AppUid,attrs:{\"src\":_vm.params.url,\"width\":\"100%\",\"height\":\"100%\",\"frameBorder\":\"0\"},on:{\"load\":_vm.onLoad}}):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"empty-icon\"},[_c('i',{staticClass:\"icon icon-cross\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cf53b736\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/IframeApp.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cf53b736\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./IframeApp.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./IframeApp.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./IframeApp.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cf53b736\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./IframeApp.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cf53b736\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/IframeApp.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"container\">\n    <div class=\"loading loading-lg\" v-show=\"view.bLoading\"></div>\n\n    <!-- Wi-Fi - Configured Networks -->\n    <div class=\"card\" v-show=\"!view.bLoading && viewConfiguredNetworks && wifi.configured.length > 0\">\n      <div class=\"card-header\">\n        <div class=\"card-title h5\">Wi-Fi Settings</div>\n      </div>\n      <div class=\"card-body\">\n        <table class=\"table table-hover\">\n          <tbody>\n            <tr v-for=\"network in wifi.configured\" :key=\"network.ssid\" :class=\"{active: network.enabled}\">\n              <td>{{network.ssid !== '' ? network.ssid : 'hidden'}}</td>\n              <td class=\"wifi-icons\">\n                <img v-if=\"network.encryption !== 'none'\" src=\"~../assets/img/icons/wifi_lock.svg\" alt=\"\">\n                <img v-if=\"network.encryption === 'none'\" src=\"~../assets/img/icons/wifi.svg\" alt=\"\">\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n\n    <!-- Wi-Fi - Scanned Networks -->\n    <div class=\"card\" v-show=\"!view.bLoading\">\n      <div class=\"card-header\">\n        <div class=\"card-title h5\">Select a Network...</div>\n      </div>\n      <div class=\"card-body\">\n        <table class=\"table table-hover\">\n        <tbody>\n          <tr v-for=\"network in wifi.scanned\" :key=\"network.ssid\" @click=\"selectedNetwork(network.ssid, network.encryption)\">\n            <td v-if=\"network.ssid.length > 0\">{{network.ssid}}</td>\n            <td v-else><span class=\"text-italic\">Hidden</span></td>\n            <td class=\"wifi-icons\">\n              <img v-if=\"network.encryption !== 'none'\" src=\"~../assets/img/icons/wifi_lock.svg\" alt=\"\">\n              <img v-if=\"network.encryption === 'none'\" src=\"~../assets/img/icons/wifi.svg\" alt=\"\">\n            </td>\n          </tr>\n        </tbody>\n        </table>\n      </div>\n    </div>\n\n    <!-- Wi-Fi - Add Network Modal -->\n    <div class=\"modal\" :class=\"wifiModalActive\" id=\"modal-id\">\n      <a v-if=\"allowClosingModal\" href=\"#close\" class=\"modal-overlay\" aria-label=\"Close\" @click=\"closeWifiModal\"></a>\n      <a v-else class=\"modal-overlay\"></a>\n      <div class=\"modal-container\">\n        <div class=\"modal-header\">\n          <a v-if=\"allowClosingModal\" href=\"#close\" class=\"btn btn-clear float-right\" aria-label=\"Close\"  @click=\"closeWifiModal\"></a>\n          <div class=\"modal-title h5\">{{view.modalTitle}}</div>\n        </div>\n        <div class=\"modal-body\">\n          <!-- loading symbol -->\n          <div class=\"loading loading-lg\" v-show=\"view.bModalLoading\"></div>\n          <!-- input form -->\n          <div class=\"form-group\" v-show=\"view.bModalForm && inputNetwork.encryption !== 'none'\">\n            <label class=\"form-label float-left\" for=\"input-password\">Enter the password for \"{{inputNetwork.ssid}}\"</label>\n            <input class=\"form-input\" :class=\"passwordFormClass\" type=\"password\" id=\"input-password\" placeholder=\"Password\" v-model=\"inputNetwork.password\" @keyup.enter=\"joinNetwork\">\n            <p class=\"form-input-hint\" v-show=\"passwordFormShowHint\">{{passwordFormHintText}}</p>\n          </div>\n          <!-- text content -->\n          <div class=\"content label\" v-show=\"!view.bModalForm\" v-html=\"view.modalText\"></div>\n        </div>\n        <!-- buttons to join network or cancel -->\n        <div class=\"modal-footer\" v-show=\"view.modalButtons === 'join'\">\n          <button class=\"btn float-left\"\n          @click=\"setView('listView')\"\n          >Cancel</button>\n          <button class=\"btn btn-primary\" :class=\"joinButtonDisabled\"\n          @click=\"joinNetwork\"\n          >Join</button>\n        </div>\n        <!-- buttons to try again or skip step -->\n        <div class=\"modal-footer\" v-show=\"view.modalButtons === 'tryAgain' || view.modalButtons === 'skip'\">\n          <button class=\"btn btn-error float-left\"\n          v-show=\"view.modalButtons === 'tryAgain'\"\n          @click=\"setView('listView')\"\n          >Try Again</button>\n          <button class=\"btn\"\n          @click=\"skipWifiConfig\"\n          >Skip Step</button>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'WifiClientConfig',\n  data () {\n    return {\n      wifi: {\n        radio: 'ra0',\n        configured: [],\n        scanned: [],\n        interval: {\n          connectionCheck: 3,\n          connectionTimeout: 45\n        }\n      },\n      inputNetwork: {\n        ssid: '',\n        encryption: '',\n        password: ''\n      },\n      view: {\n        bLoading: true,\n        bModalActive: false,\n        bModalLoading: false,\n        bModalForm: false,\n        bModalCloseAllowed: true,\n        modalButtons: '',\n        modalTitle: '',\n        modalText: ''\n      }\n    }\n  },\n  props: {\n    viewConfiguredNetworks: Boolean,\n    skipIfConnected: {\n      type: Boolean,\n      default: true\n    }\n  },\n  computed: {\n    wifiModalActive () {\n      return this.view.bModalActive ? 'active' : ''\n    },\n    passwordFormClass () {\n      return (this.validatePassword(this.inputNetwork.encryption, this.inputNetwork.password).valid ? '' : 'is-error')\n    },\n    passwordFormShowHint () {\n      // return !this.validatePassword(this.inputNetwork.encryption, this.inputNetwork.password).valid\n      return true\n    },\n    passwordFormHintText () {\n      var ret = this.validatePassword(this.inputNetwork.encryption, this.inputNetwork.password).err\n      if (ret.length === 0) {\n        ret = 'Password ok'\n      }\n      return ret\n    },\n    joinButtonDisabled () {\n      return (this.validatePassword(this.inputNetwork.encryption, this.inputNetwork.password).valid ? '' : 'disabled')\n    },\n    allowClosingModal () {\n      return this.view.bModalCloseAllowed\n    }\n  },\n  methods: {\n    /// view functions ///\n    toggleLoading () {\n      this.view.bLoading = !this.view.bLoading\n    },\n    toggleWifiModal () {\n      this.view.bModalActive = !this.view.bModalActive\n    },\n    openWifiModal () {\n      this.view.bModalActive = true\n    },\n    closeWifiModal () {\n      this.view.bModalActive = false\n    },\n    setView (step) {\n      switch (step) {\n        case 'listView':\n          this.closeWifiModal()\n          break\n        case 'selectedNetwork':\n          this.view.modalTitle = 'WiFi Password'\n          this.view.bModalForm = true\n          this.view.bModalCloseAllowed = true\n          this.view.modalButtons = 'join'\n          // handle case where network has no encryption\n          if (this.inputNetwork.encryption === 'none') {\n            this.view.modalTitle = 'Join Network'\n            this.view.bModalForm = false\n            this.view.modalText = `Join \"${this.inputNetwork.ssid}\", an <strong>open, unencrypted</strong> network?`\n          }\n          // handle case where network has hidden ssid\n          if (this.inputNetwork.ssid.length === 0) {\n            this.view.modalTitle = 'This network has a hidden SSID'\n            this.view.bModalForm = false\n            this.view.modalText = `Please try connecting to a network with a visible SSID<br>or<br>connect to this network by following our <a href=\"http://onioniot.com/docs/omega2-docs/first-time-setup-command-line.html\" target=\"_blank\">guide to setup your Omega using the command line`\n            this.view.modalButtons = ''\n          }\n          this.openWifiModal()\n          break\n        case 'joiningNetwork':\n          this.view.bModalLoading = true\n          this.view.bModalForm = false\n          this.view.bModalCloseAllowed = false\n          this.view.modalButtons = ''\n          this.view.modalTitle = `Joining \"${this.inputNetwork.ssid}\" network`\n          this.view.modalText = `If you were connected to your Omega's WiFi Access Point, your computer may disconnect during this process. Please make sure you're still connected!`\n          break\n        case 'connectionSuccess':\n          this.view.bModalLoading = false\n          this.view.bModalCloseAllowed = true\n          this.view.modalButtons = ''\n          this.view.modalTitle = `Joined \"${this.inputNetwork.ssid}\" network!`\n          this.view.modalText = `Successfully connected to WiFi network`\n          break\n        case 'connectionFail':\n          this.view.bModalLoading = false\n          this.view.bModalCloseAllowed = false\n          this.view.modalButtons = 'tryAgain'\n          this.view.modalTitle = `Could not connect`\n          this.view.modalText = `Something went wrong connecting to the \"${this.inputNetwork.ssid}\" network!<br><br>Press <strong>Try Again</strong> to attempt to connect to a different network, or try following our <a href=\"http://onioniot.com/docs/omega2-docs/first-time-setup-command-line.html\" target=\"_blank\">guide to setup your Omega using the command line</a>.`\n          this.openWifiModal()\n          break\n        case 'skipStep':\n          this.view.bModalLoading = false\n          this.view.bModalCloseAllowed = false\n          this.view.modalButtons = 'skip'\n          this.view.modalTitle = `Already connected to the internet`\n          this.view.modalText = `It looks like your Omega is already connected to the internet, let's skip to the next step`\n          this.openWifiModal()\n          break\n        default:\n          // do nothing\n          break\n      }\n    },\n    selectedNetwork (ssid, encryption) {\n      this.inputNetwork.ssid = ssid\n      this.inputNetwork.encryption = encryption\n      this.inputNetwork.password = ''\n      console.log(`selected network ${ssid}, encryption ${encryption}!`)\n      // perform view changes\n      this.setView('selectedNetwork')\n    },\n    /// device communication functions ///\n    readNetworkList () {\n      return new Promise(function (resolve, reject) {\n        this.$store.dispatch('request', {\n          object: 'onion',\n          method: 'wifi-setup',\n          params: {\n            command: 'list',\n            params: {}\n          }\n        })\n          .then(resp => {\n            if (resp.success) {\n              resolve(resp.results)\n            }\n          })\n          .catch(err => {\n            reject(err)\n          })\n      }.bind(this))\n    },\n    scanForWifi () {\n      return new Promise(function (resolve, reject) {\n        this.$store.dispatch('request', {\n          object: 'onion',\n          method: 'wifi-scan',\n          params: {\n            device: this.wifi.radio\n          }\n        })\n          .then(resp => {\n            if (resp.results && resp.results instanceof Array) {\n              resolve(resp.results)\n            } else {\n              reject()\n            }\n          })\n          .catch(err => {\n            reject(err)\n          })\n      }.bind(this))\n    },\n    internetConnectivityCheck () {\n      return new Promise(function (resolve, reject) {\n        this.$store.dispatch('request', {\n          object: 'file',\n          method: 'exec',\n          params: {\n            command: 'wget',\n            params: ['--spider', 'http://repo.onioniot.com/']\n          }\n        })\n          .then(result => {\n            if (typeof (result) !== 'undefined' &&\n              typeof (result.code) !== 'undefined' &&\n              result.code === 0\n            ) {\n              resolve(true)\n            } else {\n              reject(false)\n            }\n          })\n      }.bind(this))\n    },\n    addNetwork (ssid, encryption, password) {\n      console.log('joining network')\n      this.$store.dispatch('request', {\n        object: 'onion',\n        method: 'wifi-setup',\n        params: {\n          command: 'add',\n          base64: true,\n          params: {\n            ssid: btoa(ssid),\n            password: btoa(password),\n            encr: btoa(encryption)\n          }\n        }\n      })\n        .then(function (response) {\n          console.log()\n        })\n    },\n    /// controller functions ///\n    validatePassword (encryptionType, password) {\n      var bValid = false\n      var msg = ''\n      switch (encryptionType) {\n        case 'psk':\n        case 'psk2':\n          if (password.length < 8) {\n            bValid = false\n            msg = 'Password must be 8 characters or more'\n          } else if (password.length > 63) {\n            bValid = false\n            msg = 'Password must be less than 64 characters'\n          } else {\n            bValid = true\n          }\n          break\n        case 'wep':\n          if (password.length !== 5 && password.length !== 13) {\n            bValid = false\n            msg = 'Password must be either 5 or 13 characters'\n          } else {\n            bValid = true\n          }\n          break\n        case 'none':\n          bValid = true\n          break\n        default:\n          bValid = false\n          msg = 'Unknown encryption type'\n          break\n      }\n      return {\n        valid: bValid,\n        err: msg\n      }\n    },\n    joinNetwork () {\n      // issue command to join the network\n      this.addNetwork(this.inputNetwork.ssid, this.inputNetwork.encryption, this.inputNetwork.password)\n      // change the view\n      this.setView('joiningNetwork')\n\n      // start regular check to see if device responds and if it's connected to the internet\n      var connectionCheckInterval = setInterval(function () {\n        this.internetConnectivityCheck()\n          .then(() => {\n            // device is responding and is connected to the internet!\n            clearInterval(connectionCheckInterval)\n            clearTimeout(connectionCheckTimeout)\n            console.log('Device successfully connected to the internet!!')\n            // take action based on successfull connection!\n            this.setView('connectionSuccess')\n            // TODO: have a delay before this is triggered?\n            this.completeWifiConfig()\n            // read the list of configured networks again\n            this.readNetworkList()\n              .then(networks => {\n                this.wifi.configured = networks\n              })\n          })\n          .catch(resp => {\n            // do nothing!\n          })\n      }.bind(this), this.wifi.interval.connectionCheck * 1000)\n\n      // start a timeout in case it doesn't connect in the allotted amount of time\n      var connectionCheckTimeout = setTimeout(function () {\n        // if we've reached this point, connection was not successful\n        this.setView('connectionFail')\n      }.bind(this), this.wifi.interval.connectionTimeout * 1000)\n    },\n    completeWifiConfig () {\n      this.$emit('success')\n    },\n    skipWifiConfig () {\n      this.$emit('success')\n    }\n  },\n  created: function () {\n    // fetch the wifi config data\n    var p1 = this.readNetworkList()\n    p1.then(networks => {\n      this.wifi.configured = networks\n\n      if (this.skipIfConnected && this.wifi.configured.length > 0) {\n        console.log('have configured networks, checking for internet connectivity')\n        // check for internet connectivity\n        this.internetConnectivityCheck()\n          .then(resp => {\n            console.log('device already connected to internet, can skip wifi setup')\n            this.setView('skipStep')\n          })\n          .catch(resp => {\n            console.log('device not connected to internet!')\n          })\n      }\n    })\n\n    // start scanning for wifi networks\n    var p2 = this.scanForWifi()\n    p2.then(scannedNetworks => {\n      // sort by signal strength\n      function compare (a, b) {\n        if (a.rssi <= b.rssi) {\n          return -1\n        }\n        if (a.rssi > b.rssi) {\n          return 1\n        }\n        return 0\n      }\n      this.wifi.scanned = scannedNetworks.sort(compare)\n    })\n\n    // only stop loading animation when both activities are complete\n    Promise.all([p1, p2]).then(values => {\n      this.toggleLoading()\n    })\n  }\n}\n</script>\n\n<style scoped>\n  .wifi-icons {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-end;\n  }\n\n  .content {\n    margin: 10px;\n    padding: 10px;\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/WifiClientConfig.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.view.bLoading),expression:\"view.bLoading\"}],staticClass:\"loading loading-lg\"}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.view.bLoading && _vm.viewConfiguredNetworks && _vm.wifi.configured.length > 0),expression:\"!view.bLoading && viewConfiguredNetworks && wifi.configured.length > 0\"}],staticClass:\"card\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('table',{staticClass:\"table table-hover\"},[_c('tbody',_vm._l((_vm.wifi.configured),function(network){return _c('tr',{key:network.ssid,class:{active: network.enabled}},[_c('td',[_vm._v(_vm._s(network.ssid !== '' ? network.ssid : 'hidden'))]),_vm._v(\" \"),_c('td',{staticClass:\"wifi-icons\"},[(network.encryption !== 'none')?_c('img',{attrs:{\"src\":require(\"../assets/img/icons/wifi_lock.svg\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(network.encryption === 'none')?_c('img',{attrs:{\"src\":require(\"../assets/img/icons/wifi.svg\"),\"alt\":\"\"}}):_vm._e()])])}))])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.view.bLoading),expression:\"!view.bLoading\"}],staticClass:\"card\"},[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('table',{staticClass:\"table table-hover\"},[_c('tbody',_vm._l((_vm.wifi.scanned),function(network){return _c('tr',{key:network.ssid,on:{\"click\":function($event){_vm.selectedNetwork(network.ssid, network.encryption)}}},[(network.ssid.length > 0)?_c('td',[_vm._v(_vm._s(network.ssid))]):_c('td',[_c('span',{staticClass:\"text-italic\"},[_vm._v(\"Hidden\")])]),_vm._v(\" \"),_c('td',{staticClass:\"wifi-icons\"},[(network.encryption !== 'none')?_c('img',{attrs:{\"src\":require(\"../assets/img/icons/wifi_lock.svg\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(network.encryption === 'none')?_c('img',{attrs:{\"src\":require(\"../assets/img/icons/wifi.svg\"),\"alt\":\"\"}}):_vm._e()])])}))])])]),_vm._v(\" \"),_c('div',{staticClass:\"modal\",class:_vm.wifiModalActive,attrs:{\"id\":\"modal-id\"}},[(_vm.allowClosingModal)?_c('a',{staticClass:\"modal-overlay\",attrs:{\"href\":\"#close\",\"aria-label\":\"Close\"},on:{\"click\":_vm.closeWifiModal}}):_c('a',{staticClass:\"modal-overlay\"}),_vm._v(\" \"),_c('div',{staticClass:\"modal-container\"},[_c('div',{staticClass:\"modal-header\"},[(_vm.allowClosingModal)?_c('a',{staticClass:\"btn btn-clear float-right\",attrs:{\"href\":\"#close\",\"aria-label\":\"Close\"},on:{\"click\":_vm.closeWifiModal}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"modal-title h5\"},[_vm._v(_vm._s(_vm.view.modalTitle))])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.view.bModalLoading),expression:\"view.bModalLoading\"}],staticClass:\"loading loading-lg\"}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.view.bModalForm && _vm.inputNetwork.encryption !== 'none'),expression:\"view.bModalForm && inputNetwork.encryption !== 'none'\"}],staticClass:\"form-group\"},[_c('label',{staticClass:\"form-label float-left\",attrs:{\"for\":\"input-password\"}},[_vm._v(\"Enter the password for \\\"\"+_vm._s(_vm.inputNetwork.ssid)+\"\\\"\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputNetwork.password),expression:\"inputNetwork.password\"}],staticClass:\"form-input\",class:_vm.passwordFormClass,attrs:{\"type\":\"password\",\"id\":\"input-password\",\"placeholder\":\"Password\"},domProps:{\"value\":(_vm.inputNetwork.password)},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.joinNetwork($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.inputNetwork, \"password\", $event.target.value)}}}),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.passwordFormShowHint),expression:\"passwordFormShowHint\"}],staticClass:\"form-input-hint\"},[_vm._v(_vm._s(_vm.passwordFormHintText))])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.view.bModalForm),expression:\"!view.bModalForm\"}],staticClass:\"content label\",domProps:{\"innerHTML\":_vm._s(_vm.view.modalText)}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.view.modalButtons === 'join'),expression:\"view.modalButtons === 'join'\"}],staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn float-left\",on:{\"click\":function($event){_vm.setView('listView')}}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-primary\",class:_vm.joinButtonDisabled,on:{\"click\":_vm.joinNetwork}},[_vm._v(\"Join\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.view.modalButtons === 'tryAgain' || _vm.view.modalButtons === 'skip'),expression:\"view.modalButtons === 'tryAgain' || view.modalButtons === 'skip'\"}],staticClass:\"modal-footer\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.view.modalButtons === 'tryAgain'),expression:\"view.modalButtons === 'tryAgain'\"}],staticClass:\"btn btn-error float-left\",on:{\"click\":function($event){_vm.setView('listView')}}},[_vm._v(\"Try Again\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn\",on:{\"click\":_vm.skipWifiConfig}},[_vm._v(\"Skip Step\")])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header\"},[_c('div',{staticClass:\"card-title h5\"},[_vm._v(\"Wi-Fi Settings\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header\"},[_c('div',{staticClass:\"card-title h5\"},[_vm._v(\"Select a Network...\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4cb9f449\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/WifiClientConfig.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4cb9f449\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./WifiClientConfig.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./WifiClientConfig.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./WifiClientConfig.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4cb9f449\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./WifiClientConfig.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4cb9f449\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/WifiClientConfig.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}